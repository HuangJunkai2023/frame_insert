%% 图3 关键帧标注界面示意图（逻辑与约束）
flowchart TB
    classDef bw fill:#ffffff,stroke:#000,stroke-width:1px,color:#000;
    classDef gray fill:#f2f2f2,stroke:#000,color:#000;

    U1[视频帧预览]:::bw
    U2[历史参考线 绿色虚线]:::gray
    U3[当前参考线 红色实线]:::bw
    U4[水平约束 第二点y = 第一点y]:::gray
    U5[长度递减约束 必须比上一次短]:::bw
    U6[违规提示 必须比上一次短，请重画！]:::gray
    U7[交互操作 左键绘制/右键重画/回车确认/ESC终止]:::bw

    U1 --> U2 --> U3 --> U4 --> U5 --> U6 --> U7
